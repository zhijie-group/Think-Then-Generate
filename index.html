<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Results Comparison Gallery</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --accent-color: #3498db;
            --bg-color: #f8f9fa;
            --card-bg: #ffffff;
            --text-color: #333;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        body {
            font-family: 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            color: var(--text-color);
            display: flex;
            flex-direction: column;
            height: 100vh;
        }

        /* 顶部导航与指令区域 */
        header {
            background-color: var(--card-bg);
            padding: 1rem 2rem;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .nav-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            max-width: 1600px;
            margin: 0 auto;
            gap: 20px;
        }

        .controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        button {
            background: var(--card-bg);
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 8px 12px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary-color);
        }

        button:hover {
            background-color: var(--accent-color);
            color: white;
            border-color: var(--accent-color);
        }

        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        button svg {
            width: 20px;
            height: 20px;
        }

        .instruction-box {
            flex: 1;
            background-color: #f1f3f5;
            padding: 12px 16px;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 500;
            border-left: 4px solid var(--accent-color);
        }

        .instruction-label {
            font-size: 0.75rem;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 4px;
            display: block;
        }

        /* 图片展示网格 */
        main {
            flex: 1;
            padding: 2rem;
            overflow-y: auto;
        }

        .grid-container {
            display: grid;
            /* 自动适应宽度，最小宽度250px */
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); 
            gap: 20px;
            max-width: 1600px;
            margin: 0 auto;
        }

        .model-card {
            background: var(--card-bg);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            display: flex;
            flex-direction: column;
        }

        .model-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.15);
        }

        .model-header {
            padding: 12px;
            text-align: center;
            font-weight: 700;
            background-color: #fff;
            border-bottom: 1px solid #eee;
            color: var(--primary-color);
        }

        /* 针对 Ours 模型的高亮样式 */
        .model-card.is-ours .model-header {
            background-color: #e3f2fd;
            color: var(--accent-color);
        }

        .image-wrapper {
            width: 100%;
            /* 设置固定宽高比，防止图片跳动，这里设为 1:1 */
            aspect-ratio: 1 / 1; 
            background-color: #eee;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .image-wrapper img {
            width: 100%;
            height: 100%;
            object-fit: cover; /* 裁剪适应，如果是生图对比通常用 contain 或 cover */
            transition: transform 0.5s ease;
        }
        
        /* 点击图片查看大图的简单效果 */
        .image-wrapper img:active {
            transform: scale(1.5);
            cursor: zoom-in;
        }

        .empty-state {
            color: #999;
            font-size: 0.9rem;
        }

        footer {
            text-align: center;
            padding: 10px;
            font-size: 0.8rem;
            color: #888;
        }
    </style>
</head>
<body>

<header>
    <div class="nav-container">
        <div class="controls">
            <button id="btn-prev" onclick="changeIndex(-1)" title="Previous Prompt">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg>
            </button>
            <span id="page-indicator" style="font-size: 0.9rem; font-weight: bold; min-width: 60px; text-align: center;">1 / 1</span>
            <button id="btn-next" onclick="changeIndex(1)" title="Next Prompt">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>
            </button>
        </div>

        <div class="instruction-box">
            <span class="instruction-label">Instruction / Prompt</span>
            <span id="prompt-text">Loading...</span>
        </div>
    </div>
</header>

<main>
    <div class="grid-container" id="gallery-grid">
        </div>
</main>

<footer>
    Generated Comparison Viewer
</footer>

<script>
    // --- 配置区域 ---
    
    // 1. 这里定义你需要展示的模型名称，顺序必须对应 found_images 数组中的顺序
    const modelNames = [
        "Ours", 
        "Qwen-Image", 
        "GLM-Image", 
        "Nanobanana-pro", 
        "GPT-4o"
    ];

    // 2. 这里放入你的 JSON 数据列表
    const data = [
        {
            "t2i_prompt": "A math teacher stands at the blackboard explaining how to solve the equation 2x − 4 = 10, with all solution steps shown on the board.",
            "index": "0",
            "found_images": [
                "images/ours/0.jpg",
                "images/qwen/0.jpg",
                "images/glm/0.jpg",
                "images/nano/0.jpg", 
                "images/gpt4o/0.jpg" 
            ]
        },
        {
            "t2i_prompt": "A multi-panel illustration of a math teacher explaining how to calculate the perimeter of a triangle, using short and clear steps on the board.",
            "index": "1",
            "found_images": [
                "images/ours/1.jpg",
                "images/qwen/1.jpg",
                "images/glm/1.jpg",
                "images/nano/1.jpg",
                "images/gpt4o/1.jpg"
            ]
        },
        {
            "t2i_prompt": "A physics teacher explaining how to calculate speed in uniform motion, showing the formula and a simple substitution.",
            "index": "2",
            "found_images": [
                "images/ours/2.jpg",
                "images/qwen/2.jpg",
                "images/glm/2.jpg",
                "images/nano/2.jpg", 
                "images/gpt4o/2.jpg" 
            ]
        },
        {
            "t2i_prompt": "A physics teacher demonstrates how to calculate pressure using force and area, with a simple diagram.",
            "index": "3",
            "found_images": [
                "images/ours/3.jpg",
                "images/qwen/3.jpg",
                "images/glm/3.jpg",
                "images/nano/3.jpg", 
                "images/gpt4o/3.jpg" 
            ]
        },
        {
            "t2i_prompt": "A physics instructor explains how to calculate frequency from time period.",
            "index": "4",
            "found_images": [
                "images/ours/4.jpg",
                "images/qwen/4.jpg",
                "images/glm/4.jpg",
                "images/nano/4.jpg", 
                "images/gpt4o/4.jpg" 
            ]
        },
        {
            "t2i_prompt": "A math teacher explains how to calculate the square of a number, using a clear numerical example.",
            "index": "5",
            "found_images": [
                "images/ours/5.jpg",
                "images/qwen/5.jpg",
                "images/glm/5.jpg",
                "images/nano/5.jpg", 
                "images/gpt4o/5.jpg" 
            ]
        },
        {
            "t2i_prompt": "A multi-panel illustration showing the story of marking the boat to find a sword, with clear steps from dropping the sword to carving a mark on the boat.",
            "index": "6",
            "found_images": [
                "images/ours/6.jpg",
                "images/qwen/6.jpg",
                "images/glm/6.jpg",
                "images/nano/6.jpg", 
                "images/gpt4o/6.jpg" 
            ]
        },
        {
            "t2i_prompt": "A multi-panel illustration showing the story of fixing the sheep pen after losing sheep, with clear steps from discovering the loss to repairing the fence too late.",
            "index": "7",
            "found_images": [
                "images/ours/7.jpg",
                "images/qwen/7.jpg",
                "images/glm/7.jpg",
                "images/nano/7.jpg", 
                "images/gpt4o/7.jpg" 
            ]
        },
        {
            "t2i_prompt": "A multi-panel illustration showing the story of playing the lute to a cow, with clear steps from performing music passionately to the cow remaining completely uninterested.",
            "index": "8",
            "found_images": [
                "images/ours/8.jpg",
                "images/qwen/8.jpg",
                "images/glm/8.jpg",
                "images/nano/8.jpg", 
                "images/gpt4o/8.jpg" 
            ]
        },
        {
            "t2i_prompt": "A multi-panel illustration showing the story of pulling up seedlings to help them grow, with clear steps from impatience to damaging the crops.",
            "index": "9",
            "found_images": [
                "images/ours/9.jpg",
                "images/qwen/9.jpg",
                "images/glm/9.jpg",
                "images/nano/9.jpg", 
                "images/gpt4o/9.jpg" 
            ]
        },
        {
            "t2i_prompt": "A multi-panel illustration showing the story of learning swordsmanship from a book only, with clear steps from reading theory to failing in practice.",
            "index": "10",
            "found_images": [
                "images/ours/10.jpg",
                "images/qwen/10.jpg",
                "images/glm/10.jpg",
                "images/nano/10.jpg", 
                "images/gpt4o/10.jpg" 
            ]
        },
        {
            "t2i_prompt": "A multi-panel illustration showing the story of adding legs to a snake drawing contest, with clear steps from competition to self-sabotage.",
            "index": "11",
            "found_images": [
                "images/ours/11.jpg",
                "images/qwen/11.jpg",
                "images/glm/11.jpg",
                "images/nano/11.jpg", 
                "images/gpt4o/11.jpg" 
            ]
        }
    ];

    // --- 逻辑区域 ---

    let currentIndex = 0;

    function init() {
        renderPage(currentIndex);
    }

    function changeIndex(direction) {
        const newIndex = currentIndex + direction;
        if (newIndex >= 0 && newIndex < data.length) {
            currentIndex = newIndex;
            renderPage(currentIndex);
        }
    }

    function renderPage(index) {
        const currentItem = data[index];
        
        // 1. 更新 Prompt
        document.getElementById('prompt-text').textContent = currentItem.t2i_prompt;
        
        // 2. 更新页码指示器
        document.getElementById('page-indicator').textContent = `${index + 1} / ${data.length}`;
        
        // 3. 更新按钮状态
        document.getElementById('btn-prev').disabled = index === 0;
        document.getElementById('btn-next').disabled = index === data.length - 1;

        // 4. 渲染图片网格
        const grid = document.getElementById('gallery-grid');
        grid.innerHTML = ''; // 清空当前内容

        modelNames.forEach((name, i) => {
            const card = document.createElement('div');
            // 如果是 Ours 模型，添加特殊样式类
            card.className = `model-card ${name === 'Ours' ? 'is-ours' : ''}`;

            // 获取图片路径，如果数据中没有该索引的图片，则显示为空
            // 注意：这里为了演示，如果本地没有图片，我使用了在线占位符。
            // 实际使用时，请删除 "|| getPlaceholder..." 部分。
            let imgSrc = currentItem.found_images[i]; 
            
            // --- 演示专用逻辑 (如果图片加载失败或只是测试，使用假图) ---
            // 实际部署请移除下方 onerror 的处理，直接使用 imgSrc
            const placeholderParams = `text=${encodeURIComponent(name)}`;
            const fallbackSrc = `https://placehold.co/600x600/e0e0e0/333?${placeholderParams}`;
            
            // 构建 HTML
            card.innerHTML = `
                <div class="model-header">${name}</div>
                <div class="image-wrapper">
                    <img src="${imgSrc}" 
                         alt="${name} output" 
                         onerror="this.onerror=null;this.src='${fallbackSrc}';" 
                         loading="lazy">
                </div>
            `;
            grid.appendChild(card);
        });
    }

    // 初始化
    document.addEventListener('DOMContentLoaded', init);

</script>

</body>
</html>
